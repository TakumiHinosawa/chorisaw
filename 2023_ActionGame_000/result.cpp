//=============================================================================
//
// result
// Author : Hinosawa Takumi
//
//=============================================================================

//*****************************************************************************
//インクルード
//*****************************************************************************
#include "result.h"
#include "input.h"
#include "score.h"
#include "modeimage.h"

//=============================================================================
//コンストラクタ
//=============================================================================
CResult::CResult()
{

}

//=============================================================================
//デストラクタ
//=============================================================================
CResult::~CResult()
{

}

//=============================================================================
//初期化処理
//=============================================================================
HRESULT CResult::Init(void)
{
	//********************************************************
	//テクスチャ読み込み
	//********************************************************
	m_pModeImage->Load(1);

	//背景生成
	m_pModeImage = CModeImage::Create(1);

	if (m_pModeImage != nullptr)
	{
		//初期化
		m_pModeImage = nullptr;
	}
	else
	{
		//初期化処理
		m_pModeImage->Init(1);
	}
	
	// スコアの生成
	m_pScore = CScore::Create();

	if (m_pScore != NULL)
	{// 使用されてるとき

		// ゲーム内スコア代入
		m_pScore->GetScore();
	}

	return S_OK;
}

//=============================================================================
//終了処理
//=============================================================================
void CResult::Uninit(void)
{
	if (m_pModeImage != nullptr)
	{
		//終了処理
		m_pModeImage->Uninit();

		//初期化
		m_pModeImage = nullptr;
	}

	//********************************************************
	//テクスチャ破棄
	//********************************************************
	m_pModeImage->Unload();
}

//=============================================================================
//更新処理
//=============================================================================
void CResult::Update(void)
{
	//キーボードの取得
	CInputKeyboard *pInputKeyboard = CManager::GetManager()->GetInputKeyboard();

	if (pInputKeyboard->GetTrigger(DIK_RETURN) == true)
	{
		//画面遷移
		CManager::GetManager()->SetMode(CScene::MODE_TITLE);
	}
}

//=============================================================================
//描画処理
//=============================================================================
void CResult::Draw(void)
{

}

//=========================================================================================
//生成処理
//=========================================================================================
CResult *CResult::Create(void)
{
	//ポインタの変数を宣言
	CResult *pResult;

	//生成
	pResult = new CResult;

	if (pResult != NULL)
	{//使用されているとき

		//初期化処理
		pResult->Init();
	}

	//オブジェクト情報を返す
	return pResult;
}